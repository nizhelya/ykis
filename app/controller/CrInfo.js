/*
 * File: app/controller/CrInfo.js
 * Date: Wed Mar 31 2021 22:41:55 GMT+0300 (EEST)
 *
 * This file was generated by Sencha Architect version 3.2.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 5.1.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 5.1.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('Ykis.controller.CrInfo', {
    extend: 'Ext.app.Controller',
    alias: 'controller.crInfo',

    refs: {
        WinReport: {
            autoCreate: true,
            selector: 'winReport',
            xtype: 'winreport'
        },
        TabPnCenter: '#tabPnCenter'
    },

    control: {
        "#tabPB": {
            activate: 'onTabPBActivate'
        },
        "#tabMTB": {
            activate: 'onTabMTBActivate'
        },
        "#tabMVodomer": {
            activate: 'onTabMVodomerActivate'
        },
        "#tabGerz": {
            activate: 'onTabGerzActivate'
        },
        "#tabMTeplomer": {
            activate: 'onTabMTeplomerActivate'
        },
        "#tabIPAY": {
            activate: 'onTabIPAYActivate'
        },
        "#btnWinReportOrg": {
            click: 'onBtnWinReportOrgClick'
        },
        "#winReport": {
            show: 'onWinReportShow'
        },
        "#treeMenuSprav": {
            itemclick: 'onTreeMenuSpravItemClick'
        },
        "#PBKassaYKIS": {
            click: 'onPBKassaYKISClick'
        },
        "#PBKassaYKISdata": {
            click: 'onPBKassaYKISdataClick'
        },
        "#PBKassaOSBB": {
            click: 'onPBKassaOSBBClick'
        },
        "#printRaspechatakaYtke": {
            click: 'onPrintRaspechatakaYtkeClick'
        },
        "#printRaspechatakaPodogrev": {
            click: 'onPrintRaspechatakaPodogrevClick'
        },
        "#printRaspechatakaVoda": {
            click: 'onPrintRaspechatakaVodaClick'
        },
        "#printRaspechatakaStoki": {
            click: 'onPrintRaspechatakaStokiClick'
        },
        "#printRaspechatakaKvartplata": {
            click: 'onPrintRaspechatakaKvartplataClick'
        },
        "#printRaspechatakaTbo": {
            click: 'onPrintRaspechatakaTboClick'
        },
        "#btnPrintLgotnikAll": {
            click: 'onBtnPrintLgotnikAllClick'
        },
        "#btnPrintLgotnikEnd": {
            click: 'onBtnPrintLgotnikEndClick'
        },
        "#btnPrintLgotnikIzm": {
            click: 'onBtnPrintLgotnikIzmClick'
        },
        "#btnPrintLgotnikHouse": {
            click: 'onBtnPrintLgotnikHouseClick'
        },
        "#btnPrintLgotnikLgota": {
            click: 'onBtnPrintLgotnikLgotaClick'
        },
        "#btnPrintLgotnikGroup": {
            click: 'onBtnPrintLgotnikGroupClick'
        },
        "#btnFilialAccount": {
            click: 'onBtnFilialAccountClick'
        },
        "#btnAktSverkiFilialVik": {
            click: 'onBtnAktSverkiFilialVikClick'
        },
        "#IPAYKassaYKIS": {
            click: 'onIPAYKassaYKISClick'
        },
        "#IPAYKassaYKISdata": {
            click: 'onIPAYKassaYKISdataClick'
        },
        "#IPAYKassaOSBB": {
            click: 'onIPAYKassaOSBBClick'
        }
    },

    onTabPBActivate: function(component, eOpts) {
        var stUser = Ext.data.StoreManager.get("StUser");


        //var data =  Ext.getCmp('search_date_pb');
        var dt = new Date();
        var data = Ext.Date.format(dt, 'Y-m-d');

        var StPB = Ext.data.StoreManager.get("StPB");
        var values =stUser.getAt(0);
        StPB.load({
            params: {
                what:'getPB',
                data:data,
                login:values.get('login'),
                password:values.get('password')
            }
        });

    },

    onTabMTBActivate: function(component, eOpts) {

        var stUser = Ext.data.StoreManager.get("StUser");
        var values =stUser.getAt(0);

        var search_date_mtb =  Ext.getCmp('search_date_mtb');

        var dt = new Date();
        var data = Ext.Date.format(dt, 'Y-m-d');

        search_date_mtb.setValue(Ext.Date.format(dt, 'Y-m-d'));

        var StMTB = Ext.data.StoreManager.get("StMTB");
        StMTB.load({
            params: {
                what:'getMTB',
                data:data,
                login:values.get('login'),
                password:values.get('password')
            }
        });

    },

    onTabMVodomerActivate: function(component, eOpts) {
        //STORE
        var stUser = Ext.data.StoreManager.get("StUser");
        var StVmodel = Ext.data.StoreManager.get("StVmodel");

        //LOGIN & PASSWORD
        var values =stUser.getAt(0);


        //LOGIKA
        StVmodel.load({
            params: {
                what:'getVmodel',
                login:values.get('login'),
                password:values.get('password')
            },
            scope:this
        });
    },

    onTabGerzActivate: function(component, eOpts) {
        //STORE
        var stUser = Ext.data.StoreManager.get("StUser");
        //console.log(stUser);

        var StGerz = Ext.data.StoreManager.get("StGerz");


        //LOGIN & PASSWORD
        var values =stUser.getAt(0);

        StGerz.load({
            params: {
                what:'getGerz',
                login:values.get('login'),
                password:values.get('password')
            }
        });

    },

    onTabMTeplomerActivate: function(component, eOpts) {
        //STORE
        var stUser = Ext.data.StoreManager.get("StUser");
        var StTmodel = Ext.data.StoreManager.get("StTmodel");

        //LOGIN & PASSWORD
        var values =stUser.getAt(0);


        //LOGIKA
        StTmodel.load({
            params: {
                what:'getTmodel',
                login:values.get('login'),
                password:values.get('password')
            },
            scope:this
        });
    },

    onTabIPAYActivate: function(component, eOpts) {
        var stUser = Ext.data.StoreManager.get("StUser");


        //var data =  Ext.getCmp('search_date_pb');
        var dt = new Date();
        var data = Ext.Date.format(dt, 'Y-m-d');

        var StIPAY = Ext.data.StoreManager.get("StIPAY");
        var values =stUser.getAt(0);
        StIPAY.load({
            params: {
                what:'getIPAY',
                data:data,
                login:values.get('login'),
                password:values.get('password')
            }
        });

    },

    onBtnWinReportOrgClick: function(button, e, eOpts) {
        var me = this;
        me.tabOtSvNach();

    },

    onWinReportShow: function(component, eOpts) {
        var me = this;
        var stUser = Ext.data.StoreManager.get("StUser");
        var stOrg = Ext.data.StoreManager.get("StOrg");

        var values =stUser.getAt(0);
        var login = values.get('login');
        var password = values.get('password');
        var namereport = values.get('namereport');
        var report = values.get('report');
        var prixod_id = values.get('prixod_id');

        var form = Ext.getCmp('fmWinReport');


        var header = Ext.getCmp('headerReport');
        var fsDolg = Ext.getCmp('fsDolg');
        var rbgDolg = Ext.getCmp('rbgDolg');


        var fsGetPeriod = Ext.getCmp('fsGetPeriod');
        var btnWinReportOrg = Ext.getCmp('btnWinReportOrg');

        var winReport = me.getWinReport();
        var chkRazv = Ext.getCmp('chkRazv');

        var chkRepCat = Ext.getCmp('chkRepCat');
        var chkRepRaion = Ext.getCmp('chkRepRaion');
        var chkRepCity = Ext.getCmp('chkRepCity');
        var chkRepHouse = Ext.getCmp('chkRepHouse');
        var chkRepOrg = Ext.getCmp('chkRepOrg');
        var chkGrLgota = Ext.getCmp('chkGrLgota');
        var cbRepGrLgota = Ext.getCmp('cbRepGrLgota');
        var cbPrixod = Ext.getCmp('cbPrixod');
        var dateRepFrom = Ext.getCmp('dateRepFrom');
        var dateRepTo = Ext.getCmp('dateRepTo');
        var fieldKassir = Ext.getCmp('fieldKassir');


        header.setText(namereport).show();


        var dt = new Date();
        var dt_y =  Ext.Date.format(dt, 'Y');
        var dt_m = Ext.Date.format(dt, 'm');
        var dt_d = Ext.Date.format(dt, 'd');
        var from = new Date(dt_m+"/"+dt_d +"/"+dt_y);
        dateRepFrom.setValue(Ext.Date.getFirstDateOfMonth(from, 'Y-m-d'));
        dateRepTo.setValue(Ext.Date.getLastDateOfMonth(from, 'Y-m-d'));



        switch (report) {
            case 'schetUtke':
            case 'YtkeHistoryGkal':

                if (!chkRepCat.isHidden()){chkRepCat.hide();}
                if (!chkRepRaion.isHidden()){chkRepRaion.hide();}
                if (!chkRepHouse.isHidden()){chkRepHouse.hide();}
                if (!chkGrLgota.isHidden()){chkGrLgota.hide();}
                chkRepOrg.setValue(1);
                break;
            case 'schetVik':
                if (!chkRepCat.isHidden()){chkRepCat.hide();}
                if (!chkRepRaion.isHidden()){chkRepRaion.hide();}
                if (!chkRepHouse.isHidden()){chkRepHouse.hide();}
                if (!chkGrLgota.isHidden()){chkGrLgota.hide();}
                chkRepOrg.setValue(1);
                break;

            case 'FlatRaspechatkaYtke':
            case 'FlatRaspechatkaMgkc':
            case 'FlatRaspechatkaUgtrans':
            case 'FlatRaspechatkaVik':
            case 'AktSverkiFilialVik':


                dateRepFrom.setValue(Ext.Date.getFirstDateOfMonth(from, 'Y-m-d'));
                if (!chkRepCat.isHidden()){chkRepCat.hide();}
                if (!chkRepRaion.isHidden()){chkRepRaion.hide();}
                if (!chkRepHouse.isHidden()){chkRepHouse.hide();}
                if (!chkGrLgota.isHidden()){chkGrLgota.hide();}
                if (!chkRepOrg.isHidden()){chkRepOrg.hide();}
                break;

            case 'ItogBudjetPoGroupYtke':
            case 'ItogBudjetPoGroupMgkc':
            case 'ItogBudjetPoGroupVik':
            case 'ItogBudjetPoGroupUgtrans':
            case 'NachislenoDvodomer':
            case 'AppHistory':
            case 'ItogMonthMgkc':
            case 'KreditOplata':
            case 'RestrOplataVik':

            case 'KreditYtke':
            case 'ItogMonthVik':
            case 'ItogMonthYtke':
            case 'ItogMonthUgtrans':
            case 'NachislenoAllMgkc':
            case 'NachislenoAllVik':
            case 'NachislenoAllYtke':
            case 'NachislenoPodogrevAllYtke':
            case 'SvodOtoplenieGkal':
            case 'SvodOtoplenieSm2':
            case 'NachislenoAllUgtrans':
            case 'ControlVoda':
            case 'ControlStoki':
            case 'ControlOplataVik':
            case 'ControlOplataVikOrg':
            case 'ControlOtoplenie':
            case 'ControlPtn':
            case 'ControlOplataYtke':
            case 'ControlVikOrg':
            case 'ControlYtke':
            case 'ControlMgkc':
            case 'CityVodomer':
            case 'ControlUgtrans':
            case 'reportLgotnik':
            case 'CityHousesMgkc':
            case 'ControlCubov':
            case 'ControlTeplomerov':

            case 'CityHousesYtke':
            case 'CityHousesVik':
            case 'CityHousesUgtrans':
            case 'naPoverkuAppVikOrg':
            case 'VikBuhOplataOrg':
                //case 'VozvratSubsidYtke':
            case 'VozvratSubsidOplataYtke':
            case 'VozvratSubsidVik':
            case 'VozvratSubsidOplataVik':
            case 'KassaReestrOsmdRazvMgkc':
            case 'KassaReestrOsmdRazvYtke':
            case 'KassaReestrOsmdSvYtke':
            case 'KassaReestrDobrobutYtke':
            case 'KassaReestrDobrobutVik':
            case 'KassaReestrOsmdRazvVik':
            case 'PB_Kassa_OSBB':
            case 'PB_Kassa_YKIS_data':
            case 'IPAY_Kassa_OSBB':
            case 'IPAY_Kassa_YKIS_data':



                if (!chkRepCat.isHidden()){chkRepCat.hide();}
                if (!chkRepRaion.isHidden()){chkRepRaion.hide();}
                if (!chkRepHouse.isHidden()){chkRepHouse.hide();}
                if (!chkGrLgota.isHidden()){chkGrLgota.hide();}
                if (!chkRepOrg.isHidden()){chkRepOrg.hide();}
                break;
            case 'NagruzkaYtke':
                if (chkRazv.isHidden()){chkRazv.show();}
                break;
            case 'PB_Kassa_YKIS':

                if (cbPrixod.isHidden()){
                    cbPrixod.hide();
                    cbPrixod.setValue(prixod_id);
                }
                if (chkRepHouse.isHidden()){chkRepHouse.show();}

                dateRepFrom.setValue(Ext.Date.format(new Date(), 'Y-m-d'));
                dateRepTo.setValue(Ext.Date.format(new Date(), 'Y-m-d'));
                break;

            case 'ItogBudjetPoGroupRazvYtke':
            case 'ItogBudjetPoGroupRazvVik':
            case 'ItogBudjetPoGroupRazvMgkc':
            case 'ItogBudjetPoGroupRazvUgtrans':
                if (!chkRepCat.isHidden()){chkRepCat.hide();}
                if (!chkRepRaion.isHidden()){chkRepRaion.hide();}
                if (!chkRepHouse.isHidden()){chkRepHouse.hide();}
                if (!chkRepOrg.isHidden()){chkRepOrg.hide();}
                if (cbRepGrLgota.isHidden()){cbRepGrLgota.show();}
                break;

            case 'qtyMecPokazAppVodXvodaOrg':

                if (!btnWinReportOrg.isHidden()){btnWinReportOrg.hide();}
                if (chkRepRaion.isHidden()){chkRepRaion.hide();}
                if (chkRepHouse.isHidden()){chkRepHouse.hide();}
                if (chkRepCity.isHidden()){chkRepCity.show();}

                if (fsDolg.isHidden()){
                    fsDolg.show().setTitle('');
                    rbgDolg.hide();
                    form.getForm().findField('finish').hide();
                    form.getForm().findField('start').setValue(3);
                    form.getForm().findField('start').setValue(3).setFieldLabel('кол-во месяцев');
                }
                break;
            case 'qtyMecPokazAppVodXvoda':

                if (!btnWinReportOrg.isHidden()){btnWinReportOrg.hide();}
                if (chkRepRaion.isHidden()){chkRepRaion.show();}
                if (chkRepHouse.isHidden()){chkRepHouse.show();}
                if (fsDolg.isHidden()){
                    fsDolg.show().setTitle('');
                    rbgDolg.hide();
                    form.getForm().findField('finish').hide();
                    form.getForm().findField('start').setValue(3);
                    form.getForm().findField('start').setValue(3).setFieldLabel('кол-во месяцев');
                }
                break;
            case 'YtkeDolgi':
            case 'MgkcDolgi':
            case 'VikDolgi':
            case 'UgtransDolgi':
            case 'YtkeWarning':
            case 'MgkcWarning':
            case 'VikWarning':
            case 'UgtransWarning':
            case 'NkreYtke':


                if (fsDolg.isHidden()){fsDolg.show();}
                if (!btnWinReportOrg.isHidden()){btnWinReportOrg.hide();}
                if (!chkRepCat.isHidden()){chkRepCat.hide();}
                if (chkRepCity.isHidden()){chkRepCity.show();}
                if (chkRepRaion.isHidden()){chkRepRaion.show();}
                if (chkRepHouse.isHidden()){chkRepHouse.show();}
                if (!chkRepOrg.isHidden()){chkRepOrg.hide();}
                if (!chkGrLgota.isHidden()){chkGrLgota.hide();}
                if (!cbRepGrLgota.isHidden()){cbRepGrLgota.hide();}

                break;
            case 'VikDebetKredit':


                if (fsDolg.isHidden()){fsDolg.show();}
                if (!btnWinReportOrg.isHidden()){btnWinReportOrg.hide();}
                if (!chkRepCat.isHidden()){chkRepCat.hide();}
                if (chkRepCity.isHidden()){chkRepCity.show();}
                if (chkRepRaion.isHidden()){chkRepRaion.hide();}
                if (chkRepHouse.isHidden()){chkRepHouse.hide();}
                if (!chkRepOrg.isHidden()){chkRepOrg.hide();}
                if (!chkGrLgota.isHidden()){chkGrLgota.hide();}
                if (!cbRepGrLgota.isHidden()){cbRepGrLgota.hide();}

                break;
            case 'VikDolgiSubsid':
            case 'YtkeDolgiSubsid':
            case 'UgtransDolgiSubsid':
            case 'MgkcDolgiSubsid':

                if (fsDolg.isHidden()){fsDolg.show();}
                if (!btnWinReportOrg.isHidden()){btnWinReportOrg.hide();}
                if (!chkRepCat.isHidden()){chkRepCat.hide();}
                if (chkRepCity.isHidden()){chkRepCity.show();}
                if (chkRepRaion.isHidden()){chkRepRaion.show();}
                if (chkRepHouse.isHidden()){chkRepHouse.hide();}
                if (!chkRepOrg.isHidden()){chkRepOrg.hide();}
                if (!chkGrLgota.isHidden()){chkGrLgota.hide();}
                if (!cbRepGrLgota.isHidden()){cbRepGrLgota.hide();}
                //if (!rbgDolg.isHidden()){rbgDolg.hide();}

                break;
            case 'KassaReestrYtke':
                //case 'PB_Kassa_YKIS_data':
                //case 'PB_Kassa_OSBB':

            case 'KassaReestrMgkc':
            case 'KassaReestrOsmdMgkc':
            case 'KassaReestrOsmdYtke':
            case 'KassaReestrOsmdVik':
            case 'KassirReestrDayMgkc':
            case 'KassirReestrDayVik':
            case 'KassaReestrVikOrg':
            case 'KassaReestrVik':

                if (cbPrixod.isHidden()){
                    cbPrixod.show();
                    cbPrixod.setValue(prixod_id);
                }
                dateRepFrom.setValue(Ext.Date.format(new Date(), 'Y-m-d'));
                dateRepTo.setValue(Ext.Date.format(new Date(), 'Y-m-d'));
                break;

            case 'KassirReestrDayYtke':
            case 'PB_Kassa_YKIS':
            case 'IPAY_Kassa_YKIS':


                if (cbPrixod.isHidden()){
                    cbPrixod.show();
                    cbPrixod.setValue(prixod_id);
                }
                if (chkRepHouse.isHidden()){chkRepHouse.show();}

                dateRepFrom.setValue(Ext.Date.format(new Date(), 'Y-m-d'));
                dateRepTo.setValue(Ext.Date.format(new Date(), 'Y-m-d'));
                break;


            case 'KassirReestrYtke':
            case 'KassirReestrMgkc':
            case 'KassirReestrVik':


                if (cbPrixod.isHidden()){
                    cbPrixod.show();
                    cbPrixod.setValue(prixod_id);
                }
                if (fieldKassir.isHidden()){
                    fieldKassir.show();
                    fieldKassir.setValue(login);
                }
                dateRepFrom.setValue(Ext.Date.format(new Date(), 'Y-m-d'));
                dateRepTo.setValue(Ext.Date.format(new Date(), 'Y-m-d'));
                break;
            case 'courseMapAppVik':
            case 'ControlPokazOplataVik':
            case 'DogovorVik':
            case 'DogovorYtke':
            case 'naPoverkuAppVik':
            case 'courseMapAppYtke':
            case 'courseMapOrgYtke':
            case 'NachislenoAllHouseVik':
            case 'NachislenoAllHouseYtke':
            case 'NachislenoAllHouseTbo':
            case 'DvodomerHouse':






                if (!btnWinReportOrg.isHidden()){btnWinReportOrg.hide();}
                if (!chkRepCat.isHidden()){chkRepCat.hide();}
                if (!chkRepCity.isHidden()){chkRepCity.hide();}
                if (chkRepRaion.isHidden()){chkRepRaion.show();}
                if (chkRepHouse.isHidden()){chkRepHouse.show();}
                if (!chkRepOrg.isHidden()){chkRepOrg.hide();}
                if (!chkGrLgota.isHidden()){chkGrLgota.hide();}
                if (!cbRepGrLgota.isHidden()){cbRepGrLgota.hide();}
                break;
        }

    },

    onTreeMenuSpravItemClick: function(dataview, record, item, index, e, eOpts) {
        //in use
        var me = this;

        // STORE

        var stUser = Ext.data.StoreManager.get("StUser");

        //Component

        var winReport = me.getWinReport();

        //LOGIN & PASSWORD

        var values =stUser.getAt(0);
        var login = values.get('login');
        var password = values.get('password');
        //values.set({'vibor':qtip});
        //LOGIKA
        var parentId = record.data.parentId;
        var id = record.data.id;
        var text = record.data.text;
        var qtip = record.data.text;
        switch (id) {
                //////////////////////////// ЖИЛОЙ ФОНД
            case 'tabNewAddress':
            case 'tabWaterHouse':
            case 'tabDogovor':
            case 'tabSubsidia':
            case 'tabGerz':
            case 'tabSearchCitizen':


                /////////////////////////// СПРАВОЧНИКИ
            case 'tabLgota':
            case 'tabUtszn':
            case 'tabPB':
            case 'tabIPAY':
            case 'tabMTB':


            case 'tabNormRashVoda':
            case 'tabPayment':
            case 'tabTemp':
            case 'tabWorkGrafik':
            case 'tabMVodomer':
            case 'tabMTeplomer':
            case 'tabCatSobstv':
            case 'tabSprTypeHot':
            case 'tabPrixod':
            case 'tabOsmdHouses':
            case 'tabSubsUtszn':
            case 'tabLgotaUtszn':
            case 'tabHouseResidents':
            case 'tabEnergoAudit':


                ///////////////////////////////БЮДЖЕТ
            case 'tabDbfLgota':
            case 'tabLgotnik':

                ///////////////////////////////ЮЖТРАНС
            case 'tabTbo':

                ///////////////////////////// МЖКЦ
            case 'tabKvartplata':

                //////////////////////////////////КП ВиК
            case 'tabVoda':
            case 'tabSchetVik':
            case 'tabOplataOrg':


                //////////////////////////////////КП ЮТКЕ
            case 'tabVozvratSubsidia':
            case 'tabPodogrev':
                values.set({
                    'parentid':parentId,
                    'sprav':id,
                    'namesprav':text,
                    'spravheader':qtip
                });
                me.openSprav(id, text);
                break;
            case 'Department':
            case 'Employees':
            case 'InfoOrg':
                values.set({
                    'parentid':parentId,
                    'sprav':id,
                    'namesprav':text,
                    'spravheader':qtip
                });
                me.openSprav(id, text);
                break;

                //////////////////////////// ЖИЛОЙ ФОНД
            case 'AppHistory':
                //   case 'LgotnikData':
            case 'CityHousesMgkc':
            case 'CityHousesYtke':
            case 'CityHousesVik':
            case 'CityHousesUgtrans':
                ///////////////////////////////ЮЖТРАНС
            case 'UgtransDolgi':
            case 'UgtransDolgiSubsid':
            case 'UgtransWarning':
            case 'ItogMonthUgtrans':
            case 'ControlUgtrans':
            case 'NachislenoAllUgtrans':
            case 'RestrOplataVik':
            case 'DvodomerHouse':

                ///////////////////////////// МЖКЦ
            case 'MgkcDolgi':
            case 'MgkcDolgiSubsid':
            case 'MgkcWarning':
            case 'ItogMonthMgkc':
            case 'ControlMgkc':
            case 'NachislenoAllMgkc':
            case 'KassirReestrDayMgkc':
            case 'KassaReestrMgkc':
            case 'KassirReestrMgkc':
            case 'KassirReestrYtke':
            case 'NkreYtke':

            case 'KassaReestrOsmdMgkc':
            case 'KassaReestrOsmdRazvMgkc':
            case 'KassaReestrOsmdVik':
            case 'KassaReestrOsmdRazvVik':
            case 'KassaReestrOsmdYtke':
            case 'KassaReestrOsmdRazvYtke':
            case 'KassaReestrOsmdSvYtke':

            case 'KassaReestrDobrobutYtke':
            case 'KassaReestrDobrobutVik':
                ///////////////////////////////БЮДЖЕТ
            case 'ItogBudjetPoGroupYtke':
            case 'ItogBudjetPoGroupRazvYtke':
            case 'ItogBudjetPoGroupMgkc':
            case 'ItogBudjetPoGroupRazvMgkc':
            case 'ItogBudjetPoGroupVik':
            case 'ItogBudjetPoGroupRazvVik':
            case 'ItogBudjetPoGroupUgtrans':
            case 'ItogBudjetPoGroupRazvUgtrans':
                ///////////////////////////////// ЮТКЭ
            case 'ItogMonthYtke':
            case 'schetUtke':
            case 'SvodOtNasel':
            case 'tabOtSvNach':
            case 'tabOtSvNach_org':
            case 'tabOtSvNach_money':
            case 'tabOtSvNach_org_money':
            case 'tabOtSvNach_perer':
            case 'YtkeHistoryGkal':
            case 'YtkeKassirReestr':
            case 'YtkeSquareAll':
            case 'ControlTeplomerov':
            case 'ControlVoda':
            case 'ControlStoki':
            case 'ControlOplata':
            case 'SvodOtoplenieGkal':
            case 'SvodOtoplenieSm2':
            case 'NagruzkaYtke':
            case 'NachislenoAllYtke':

            case 'NachislenoPodogrevAllYtke':
            case 'NachislenoAllHouseYtke':
            case 'YtkeDolgi':
            case 'YtkeDolgiSubsid':
            case 'YtkeWarning':
            case 'ControlOtoplenie':
            case 'ControlPtn':
            case 'ControlOplataYtke':
            case 'KassirReestrDayYtke':
            case 'KassaReestrYtke':
            case 'YtkeKassaDayReestr':
            case 'qtyMecPokazAppVodXvoda':
            case 'qtyMecPokazAppVodXvodaOrg':
            case 'NachislenoAllHouseTbo':


            case 'KreditOplata':
            case 'KreditYtke':

                //////////////////////////////////КП ВиК
            case 'ItogMonthVik':
            case 'NachislenoDvodomer':
            case 'KassirReestrDayVik':
            case 'KassaReestrVik':
            case 'KassaReestrVikOrg':
            case 'KassirReestrVik':
            case 'NachislenoAllVik':
            case 'NachislenoAllHouseVik':
            case 'courseMapAppVik':
            case 'naPoverkuAppVik':
            case 'naPoverkuAppVikOrg':
            case 'courseMapAppYtke':
            case 'courseMapOrgYtke':
            case 'ControlPokazOplataVik':
            case 'ControlVoda':
            case 'ControlStoki':
            case 'ControlOplataVikOrg':
            case 'ControlOplataVik':
            case 'ControlVikOrg':
            case 'DogovorVik':
            case 'DogovorYtke':
            case 'CityVodomer':
            case 'ControlCubov':
            case 'schetVik':
            case 'VikSvodn':
            case 'VikVodHouses':
            case 'VikVodOrg':
            case 'VikBuh':
            case 'VikBuhOrg':
            case 'VikBuhOplataOrg':
            case 'VikPerer':
            case 'VikDolgi':
            case 'VikDolgiSubsid':
            case 'VikWarning':
            case 'VikDebetKredit':
            case 'VozvratSubsidVik':
            case 'VozvratSubsidOplataVik':
            case 'VozvratSubsidYtke':
            case 'VozvratSubsidOplataYtke':




                values.set({
                    'report':id,
                    'namereport':text,
                    'reportheader':text
                });
                winReport.show();
                break;
        }

    },

    onPBKassaYKISClick: function(button, e, eOpts) {

        var me = this;
        var winReport = me.getWinReport();
        var stUser = Ext.data.StoreManager.get("StUser");
        var values =stUser.getAt(0);
        var login = values.get('login');
        var id = "PB_Kassa_YKIS";
        var password = values.get('password');
        var text = "Реестр по адресам ЮКИС";
        values.set({
            'report':id,
            'namereport':text,
            'reportheader':text
        });
        winReport.show();

    },

    onPBKassaYKISdataClick: function(button, e, eOpts) {

        var me = this;
        var winReport = me.getWinReport();
        var stUser = Ext.data.StoreManager.get("StUser");
        var values =stUser.getAt(0);
        var login = values.get('login');
        var id = "PB_Kassa_YKIS_data";
        var password = values.get('password');
        var text = "Реестр по дате ЮКИС";
        values.set({
            'report':id,
            'namereport':text,
            'reportheader':text
        });
        winReport.show();

    },

    onPBKassaOSBBClick: function(button, e, eOpts) {

        var me = this;
        var winReport = me.getWinReport();
        var stUser = Ext.data.StoreManager.get("StUser");
        var values =stUser.getAt(0);
        var login = values.get('login');
        var id = "PB_Kassa_OSBB";
        var password = values.get('password');
        var text = "Реестр по дате ЮКИС";
        values.set({
            'report':id,
            'namereport':text,
            'reportheader':text
        });
        winReport.show();

    },

    onPrintRaspechatakaYtkeClick: function(button, e, eOpts) {
        //in use
        var me = this;

        // STORE

        var stUser = Ext.data.StoreManager.get("StUser");

        //Component

        var winReport = me.getWinReport();

        //LOGIN & PASSWORD

        var values =stUser.getAt(0);
        var login = values.get('login');
        var password = values.get('password');

        //LOGIKA
        var id = 'FlatRaspechatkaYtke';
        var text = 'Распечатка тепло';
        var qtip = 'Распечатка тепло';

        values.set({
            'report':id,
            'namereport':text,
            'reportheader':text
        });

        winReport.show();

    },

    onPrintRaspechatakaPodogrevClick: function(button, e, eOpts) {
        //in use
        var me = this;

        // STORE

        var stUser = Ext.data.StoreManager.get("StUser");

        //Component

        var winReport = me.getWinReport();

        //LOGIN & PASSWORD

        var values =stUser.getAt(0);
        var login = values.get('login');
        var password = values.get('password');

        //LOGIKA
        var id = 'FlatRaspechatkaYtke';
        var text = 'Распечатка тепло';
        var qtip = 'Распечатка тепло';

        values.set({
            'report':id,
            'namereport':text,
            'reportheader':text
        });

        winReport.show();

    },

    onPrintRaspechatakaVodaClick: function(button, e, eOpts) {
        //in use
        var me = this;

        // STORE

        var stUser = Ext.data.StoreManager.get("StUser");

        //Component

        var winReport = me.getWinReport();

        //LOGIN & PASSWORD

        var values =stUser.getAt(0);
        var login = values.get('login');
        var password = values.get('password');

        //LOGIKA
        var id = 'FlatRaspechatkaVik';
        var text = 'Распечатка';
        var qtip = 'Распечатка';

        values.set({
            'report':id,
            'namereport':text,
            'reportheader':text
        });

        winReport.show();

    },

    onPrintRaspechatakaStokiClick: function(button, e, eOpts) {
        //in use
        var me = this;

        // STORE

        var stUser = Ext.data.StoreManager.get("StUser");

        //Component

        var winReport = me.getWinReport();

        //LOGIN & PASSWORD

        var values =stUser.getAt(0);
        var login = values.get('login');
        var password = values.get('password');

        //LOGIKA
        var id = 'FlatRaspechatkaVik';
        var text = 'Распечатка';
        var qtip = 'Распечатка';

          values.set({
                'report':id,
                'namereport':text,
                'reportheader':text
            });

            winReport.show();

    },

    onPrintRaspechatakaKvartplataClick: function(button, e, eOpts) {
        //in use
        var me = this;

        // STORE

        var stUser = Ext.data.StoreManager.get("StUser");

        //Component

        var winReport = me.getWinReport();

        //LOGIN & PASSWORD

        var values =stUser.getAt(0);
        var login = values.get('login');
        var password = values.get('password');

        //LOGIKA
        var id = 'FlatRaspechatkaMgkc';
        var text = 'Распечатка';
        var qtip = 'Распечатка';

          values.set({
                'report':id,
                'namereport':text,
                'reportheader':text
            });

            winReport.show();

    },

    onPrintRaspechatakaTboClick: function(button, e, eOpts) {
        //in use
        var me = this;

        // STORE

        var stUser = Ext.data.StoreManager.get("StUser");

        //Component

        var winReport = me.getWinReport();

        //LOGIN & PASSWORD

        var values =stUser.getAt(0);
        var login = values.get('login');
        var password = values.get('password');

        //LOGIKA
        var id = 'FlatRaspechatkaUgtrans';
        var text = 'Распечатка';
        var qtip = 'Распечатка';

        values.set({
            'report':id,
            'namereport':text,
            'reportheader':text
        });

        winReport.show();

    },

    onBtnPrintLgotnikAllClick: function(button, e, eOpts) {
        //in use
        var me = this;
        var StUser = Ext.data.StoreManager.get("StUser");
        var values =StUser.getAt(0);

        var dataTabLgotnikEnd = Ext.getCmp('dataTabLgotnikEnd').getValue();
        // console.log(dataTabLgotnikEnd);


        if (dataTabLgotnikEnd) {
            var data_from = Ext.Date.getFirstDateOfMonth(dataTabLgotnikEnd);
            var data_to = Ext.Date.getLastDateOfMonth(dataTabLgotnikEnd);

            var usertype = 1;

            var tabPnCenter =  Ext.getCmp('tabPnCenter');//me.getTabPnCenter();

            var report = 'reportLgotnik';
            var namereport = 'Список льготников';
            var value = {
                login:values.get('login'),
                password:values.get('password'),
                report:report,
                what:report,
                date_from:data_from,
                date_to:data_to
            };
            var tab = tabPnCenter.child('#'+report);
            if (!tab) {
                tab  = tabPnCenter.add({
                    xtype:'tabreportorg',
                    title:namereport,
                    id:''+report+''
                });

            }
            //console.log(value);

            tabPnCenter.setActiveTab(tab);
            var reppan = tab.getComponent(0);
            // Basic mask:
            var myMask= Ext.Msg.show({
                title:'Загрузка...',
                msg: 'Загрузка отчета .Ожидайте...',
                buttons: Ext.Msg.CANCEL,
                wait: true,
                modal: true,
                icon: Ext.Msg.INFO
            });
            QueryReport.getResults(value,function(data){
                if (data){
                    reppan.update(data.content);
                    Ext.REPORTCONTENT =data.content;
                    Ext.REPORTSQL =data.sql;
                    Ext.REPORTTITLE =report;
                    myMask.close();

                } else {
                    myMask.close();
                    Ext.MessageBox.show({
                        title: 'Ошибка ',
                        msg: 'Документ не создан',
                        buttons: Ext.MessageBox.OK,
                        icon: Ext.MessageBox.ERROR
                    });
                }
            });

        }
    },

    onBtnPrintLgotnikEndClick: function(button, e, eOpts) {
        //in use
        var me = this;
        var StUser = Ext.data.StoreManager.get("StUser");
        var values =StUser.getAt(0);

        var dataTabLgotnikEnd = Ext.getCmp('dataTabLgotnikEnd').getValue();
           // console.log(dataTabLgotnikEnd);


        if (dataTabLgotnikEnd) {
           var data_from = Ext.Date.getFirstDateOfMonth(dataTabLgotnikEnd);
           var data_to = Ext.Date.getLastDateOfMonth(dataTabLgotnikEnd);

        var usertype = 1;

        var tabPnCenter =  Ext.getCmp('tabPnCenter');//me.getTabPnCenter();

            var report = 'reportLgotnikEnd';
            var namereport = 'Контроль льготников';
            var value = {
                login:values.get('login'),
                password:values.get('password'),
                report:report,
                what:report,
                date_from:data_from,
                date_to:data_to
            };
            var tab = tabPnCenter.child('#'+report);
            if (!tab) {
                tab  = tabPnCenter.add({
                    xtype:'tabreportorg',
                    title:namereport,
                    id:''+report+''
                });

            }
            //console.log(value);

            tabPnCenter.setActiveTab(tab);
            var reppan = tab.getComponent(0);
            // Basic mask:
            var myMask= Ext.Msg.show({
                title:'Загрузка...',
                msg: 'Загрузка отчета .Ожидайте...',
                buttons: Ext.Msg.CANCEL,
                wait: true,
                modal: true,
                icon: Ext.Msg.INFO
            });
            QueryReport.getResults(value,function(data){
                if (data){
                    reppan.update(data.content);
                    Ext.REPORTCONTENT =data.content;
                    Ext.REPORTSQL =data.sql;
                    Ext.REPORTTITLE =report;
                    myMask.close();

                } else {
                    myMask.close();
                    Ext.MessageBox.show({
                        title: 'Ошибка ',
                        msg: 'Документ не создан',
                        buttons: Ext.MessageBox.OK,
                        icon: Ext.MessageBox.ERROR
                    });
                }
            });

        }
    },

    onBtnPrintLgotnikIzmClick: function(button, e, eOpts) {
        //in use
        var me = this;
        var StUser = Ext.data.StoreManager.get("StUser");
        var values =StUser.getAt(0);

        var dataTabLgotnikIzm = Ext.getCmp('dataTabLgotnik').getValue();
           // console.log(dataTabLgotnikEnd);


        if (dataTabLgotnikIzm) {
           var data_from = Ext.Date.getFirstDateOfMonth(dataTabLgotnikIzm);
           var data_to = Ext.Date.getLastDateOfMonth(dataTabLgotnikIzm);

        var usertype = 1;

        var tabPnCenter =  Ext.getCmp('tabPnCenter');//me.getTabPnCenter();

            var report = 'reportLgotnikIzm';
            var namereport = 'Изменения льготников';
            var value = {
                login:values.get('login'),
                password:values.get('password'),
                report:report,
                what:report,
                date_from:data_from,
                date_to:data_to
            };
            var tab = tabPnCenter.child('#'+report);
            if (!tab) {
                tab  = tabPnCenter.add({
                    xtype:'tabreportorg',
                    title:namereport,
                    id:''+report+''
                });

            }
            //console.log(value);

            tabPnCenter.setActiveTab(tab);
            var reppan = tab.getComponent(0);
            // Basic mask:
            var myMask= Ext.Msg.show({
                title:'Загрузка...',
                msg: 'Загрузка отчета .Ожидайте...',
                buttons: Ext.Msg.CANCEL,
                wait: true,
                modal: true,
                icon: Ext.Msg.INFO
            });
            QueryReport.getResults(value,function(data){
                if (data){
                    reppan.update(data.content);
                    Ext.REPORTCONTENT =data.content;
                    Ext.REPORTSQL =data.sql;
                    Ext.REPORTTITLE =report;
                    myMask.close();

                } else {
                    myMask.close();
                    Ext.MessageBox.show({
                        title: 'Ошибка ',
                        msg: 'Документ не создан',
                        buttons: Ext.MessageBox.OK,
                        icon: Ext.MessageBox.ERROR
                    });
                }
            });

        }
    },

    onBtnPrintLgotnikHouseClick: function(button, e, eOpts) {
        //in use
        var me = this;
        var StUser = Ext.data.StoreManager.get("StUser");
        var values =StUser.getAt(0);

        var house_id = Ext.getCmp('cbTabLgotnikHouse').getValue();
           // console.log(dataTabLgotnikEnd);


        if (house_id) {

        var usertype = 1;

        var tabPnCenter =  Ext.getCmp('tabPnCenter');//me.getTabPnCenter();

            var report = 'reportLgotnikHouse';
            var namereport = 'Льготников по дому';
            var value = {
                login:values.get('login'),
                password:values.get('password'),
                report:report,
                what:report,
                house_id:house_id
            };
            var tab = tabPnCenter.child('#'+report);
            if (!tab) {
                tab  = tabPnCenter.add({
                    xtype:'tabreportorg',
                    title:namereport,
                    id:''+report+''
                });

            }
            //console.log(value);

            tabPnCenter.setActiveTab(tab);
            var reppan = tab.getComponent(0);
            // Basic mask:
            var myMask= Ext.Msg.show({
                title:'Загрузка...',
                msg: 'Загрузка отчета .Ожидайте...',
                buttons: Ext.Msg.CANCEL,
                wait: true,
                modal: true,
                icon: Ext.Msg.INFO
            });
            QueryReport.getResults(value,function(data){
                if (data){
                    reppan.update(data.content);
                    Ext.REPORTCONTENT =data.content;
                    Ext.REPORTSQL =data.sql;
                    Ext.REPORTTITLE =report;
                    myMask.close();

                } else {
                    myMask.close();
                    Ext.MessageBox.show({
                        title: 'Ошибка ',
                        msg: 'Документ не создан',
                        buttons: Ext.MessageBox.OK,
                        icon: Ext.MessageBox.ERROR
                    });
                }
            });

        }
    },

    onBtnPrintLgotnikLgotaClick: function(button, e, eOpts) {
        //in use
        var me = this;
        var StUser = Ext.data.StoreManager.get("StUser");
        var values =StUser.getAt(0);

        var lgota_id = Ext.getCmp('cbTabLgotnikLgota').getValue();
           // console.log(dataTabLgotnikEnd);


        if (lgota_id) {

        var usertype = 1;

        var tabPnCenter =  Ext.getCmp('tabPnCenter');//me.getTabPnCenter();

            var report = 'reportLgotnikLgota';
            var namereport = 'Льготников по льготе';
            var value = {
                login:values.get('login'),
                password:values.get('password'),
                report:report,
                what:report,
                lgota_id:lgota_id
            };
            var tab = tabPnCenter.child('#'+report);
            if (!tab) {
                tab  = tabPnCenter.add({
                    xtype:'tabreportorg',
                    title:namereport,
                    id:''+report+''
                });

            }
            //console.log(value);

            tabPnCenter.setActiveTab(tab);
            var reppan = tab.getComponent(0);
            // Basic mask:
            var myMask= Ext.Msg.show({
                title:'Загрузка...',
                msg: 'Загрузка отчета .Ожидайте...',
                buttons: Ext.Msg.CANCEL,
                wait: true,
                modal: true,
                icon: Ext.Msg.INFO
            });
            QueryReport.getResults(value,function(data){
                if (data){
                    reppan.update(data.content);
                    Ext.REPORTCONTENT =data.content;
                    Ext.REPORTSQL =data.sql;
                    Ext.REPORTTITLE =report;
                    myMask.close();

                } else {
                    myMask.close();
                    Ext.MessageBox.show({
                        title: 'Ошибка ',
                        msg: 'Документ не создан',
                        buttons: Ext.MessageBox.OK,
                        icon: Ext.MessageBox.ERROR
                    });
                }
            });

        }
    },

    onBtnPrintLgotnikGroupClick: function(button, e, eOpts) {
        //in use
        var me = this;
        var StUser = Ext.data.StoreManager.get("StUser");
        var values =StUser.getAt(0);

        var gr = Ext.getCmp('cbTabLgotnikGroup').getValue();
          // console.log(gr);


        if (gr) {

        var usertype = 1;

        var tabPnCenter =  Ext.getCmp('tabPnCenter');//me.getTabPnCenter();

            var report = 'reportLgotnikGroup';
            var namereport = 'Льготников по группе';
            var value = {
                login:values.get('login'),
                password:values.get('password'),
                report:report,
                what:report,
                gr:gr
            };
            var tab = tabPnCenter.child('#'+report);
            if (!tab) {
                tab  = tabPnCenter.add({
                    xtype:'tabreportorg',
                    title:namereport,
                    id:''+report+''
                });

            }
            //console.log(value);

            tabPnCenter.setActiveTab(tab);
            var reppan = tab.getComponent(0);
            // Basic mask:
            var myMask= Ext.Msg.show({
                title:'Загрузка...',
                msg: 'Загрузка отчета .Ожидайте...',
                buttons: Ext.Msg.CANCEL,
                wait: true,
                modal: true,
                icon: Ext.Msg.INFO
            });
            QueryReport.getResults(value,function(data){
                if (data){
                    reppan.update(data.content);
                    Ext.REPORTCONTENT =data.content;
                    Ext.REPORTSQL =data.sql;
                    Ext.REPORTTITLE =report;
                    myMask.close();

                } else {
                    myMask.close();
                    Ext.MessageBox.show({
                        title: 'Ошибка ',
                        msg: 'Документ не создан',
                        buttons: Ext.MessageBox.OK,
                        icon: Ext.MessageBox.ERROR
                    });
                }
            });

        }
    },

    onBtnFilialAccountClick: function() {
        //in use
        var me = this;

        // STORE

        var stUser = Ext.data.StoreManager.get("StUser");

        //Component

        var winReport = me.getWinReport();

        //LOGIN & PASSWORD

        var values =stUser.getAt(0);
        var login = values.get('login');
        var password = values.get('password');

        //LOGIKA
        var id = 'FilialAccount';
        var text = 'Счет';
        var qtip = 'Счет';

        values.set({
            'report':id,
            'namereport':text,
            'reportheader':text
        });

        winReport.show();

    },

    onBtnAktSverkiFilialVikClick: function(button, e, eOpts) {
        //in use
        var me = this;

        // STORE

        var stUser = Ext.data.StoreManager.get("StUser");

        //Component

        var winReport = me.getWinReport();

        //LOGIN & PASSWORD

        var values =stUser.getAt(0);
        var login = values.get('login');
        var password = values.get('password');

        //LOGIKA
        var id = 'AktSverkiFilialVik';
        var text = 'Распечатка';
        var qtip = 'Распечатка';

        values.set({
            'report':id,
            'namereport':text,
            'reportheader':text
        });

        winReport.show();

    },

    onIPAYKassaYKISClick: function(button, e, eOpts) {

        var me = this;
        var winReport = me.getWinReport();
        var stUser = Ext.data.StoreManager.get("StUser");
        var values =stUser.getAt(0);
        var login = values.get('login');
        var id = "IPAY_Kassa_YKIS";
        var password = values.get('password');
        var text = "Реестр по адресам ЮКИС";
        values.set({
            'report':id,
            'namereport':text,
            'reportheader':text
        });
        winReport.show();

    },

    onIPAYKassaYKISdataClick: function(button, e, eOpts) {

        var me = this;
        var winReport = me.getWinReport();
        var stUser = Ext.data.StoreManager.get("StUser");
        var values =stUser.getAt(0);
        var login = values.get('login');
        var id = "IPAY_Kassa_YKIS_data";
        var password = values.get('password');
        var text = "Реестр по дате ЮКИС";
        values.set({
            'report':id,
            'namereport':text,
            'reportheader':text
        });
        winReport.show();

    },

    onIPAYKassaOSBBClick: function(button, e, eOpts) {

        var me = this;
        var winReport = me.getWinReport();
        var stUser = Ext.data.StoreManager.get("StUser");
        var values =stUser.getAt(0);
        var login = values.get('login');
        var id = "IPAY_Kassa_OSBB";
        var password = values.get('password');
        var text = "Реестр по дате ЮКИС";
        values.set({
            'report':id,
            'namereport':text,
            'reportheader':text
        });
        winReport.show();

    },

    tabOtSvNach: function() {

        //in use
        var me = this;
        // STORE
        var StUser = Ext.data.StoreManager.get("StUser");
        var StReport = Ext.data.StoreManager.get("StReport");
        //TAB
        var winReport = me.getWinReport();
        var tabPnCenter = me.getTabPnCenter();
        // FORM
        var fmWinReport = Ext.getCmp("fmWinReport");  //Форма
        var value = fmWinReport.getValues();

        //LOGIN & PASSWORD & ID
        var values =StUser.getAt(0);
        var params = {
            login:values.get('login'),
            password:values.get('password'),
            report:values.get('report'),
            what:values.get('report'),
            filial_id:values.get('filial_id'),
            address_id:values.get('address_id')

        };

        var report = values.get('report');
        var namereport = values.get('reportheader');

        //console.log(namereport);


        //LOGIKA

        Ext.Object.merge(value, params);


        var tab = tabPnCenter.child('#'+report);

        if (!tab) {
            tab  = tabPnCenter.add({
                xtype:'tabreportorg',
                title:namereport,
                id:''+report+''
            });

            tabPnCenter.setActiveTab(tab);

        }else{

            tabPnCenter.setActiveTab(tab);
        }

        var reppan = tab.getComponent(0);



        // Basic mask:
        //var myMask = new Ext.LoadMask(winReport, {msg:"Загрузка отчета..."});
        //myMask.show();

        var myMask= Ext.Msg.show({
            title:'Отчеты...',
            msg: 'Загрузка отчета.Ожидайте...',
            buttons: Ext.Msg.CANCEL,
            wait: true,
            modal: true,
            icon: Ext.Msg.INFO
        });

        QueryReport.getResults(value,function(results){
            if (results.success==="1"){
                reppan.update(results.content);
                Ext.REPORTCONTENT =results.content;
                Ext.REPORTSQL =results.sql;
                Ext.REPORTTITLE =report;
                myMask.close();
                winReport.close();

            }else{
                Ext.MessageBox.show({title: namereport,
                                     msg: results.msg,
                                     buttons: Ext.MessageBox.OK,
                                     icon: Ext.MessageBox.ERROR
                                    });
                myMask.close();
                winReport.close();


            }
        });
    },

    openSprav: function(tid, tname) {
        //in use

        var me = this;
        var xt = Ext.util.Format.lowercase(tid);
        var tabPnCenter = me.getTabPnCenter();
        var tab = tabPnCenter.child('#'+tid);
        if (!tab) {
            tab  = tabPnCenter.add({
                xtype:xt,
                id:tid
            });

            tabPnCenter.setActiveTab(tab);
        }else{
            tabPnCenter.setActiveTab(tab);
        }
    }

});
