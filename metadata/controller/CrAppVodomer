{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "crAppVodomer",
        "designer|userClassName": "CrAppVodomer"
    },
    "designerId": "5a18111a-0258-4a74-8f9c-62602aa40963",
    "cn": [
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#tabAppVodomer",
                "designer|targetType": "Ext.panel.Panel",
                "fn": "onTabAppVodomerActivate",
                "implHandler": [
                    "",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var values =stUser.getAt(0);",
                    "var login = values.get('login');",
                    "var password = values.get('password');",
                    "var address_id = values.get('address_id');",
                    "var address = values.get('address');",
                    "var house_id = values.get('house_id');",
                    "var prixod_id = values.get('prixod_id');",
                    "",
                    "var fmVodomer = Ext.getCmp('fmVodomer');",
                    "var grAllPokVodomera = Ext.getCmp('grAllPokVodomera');",
                    "",
                    "//STORE",
                    "var stVodomer = Ext.data.StoreManager.get(\"StVodomer\");",
                    "var stHVodomer = Ext.data.StoreManager.get(\"StHVodomer\");",
                    "var StWater = Ext.data.StoreManager.get(\"StWater\");",
                    "var stTekPokVodomera = Ext.data.StoreManager.get(\"StTekPokVodomera\");",
                    "",
                    "stVodomer.removeAll();",
                    "stHVodomer.removeAll();",
                    "StWater.removeAll();",
                    "stTekPokVodomera.removeAll();",
                    "",
                    "",
                    "fmVodomer.setTitle('Технічна характеристика будинку');",
                    "",
                    "fmVodomer.getForm().reset();",
                    "fmVodomer.expand(true);",
                    "",
                    "stVodomer.load({",
                    "    params: {",
                    "        what:'AppVodomer',",
                    "        what_id: address_id,",
                    "        address_id: address_id,",
                    "        login:login,",
                    "        password:password",
                    "    },",
                    "    scope:this",
                    "});",
                    "",
                    "stHVodomer.load({",
                    "    params: {",
                    "        what:'AppHVodomer',",
                    "        what_id: address_id,",
                    "        address_id: address_id,",
                    "        login:login,",
                    "        password:password",
                    "    },",
                    "    scope:this",
                    "});",
                    "",
                    ""
                ],
                "name": "activate",
                "scope": "me"
            },
            "name": "onTabAppVodomerActivate",
            "designerId": "db0a0cac-ac33-425b-a0f4-b305701c22ab"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "FmVodomer",
                "selector": "#fmVodomer"
            },
            "name": "FmVodomer",
            "designerId": "56561d91-0abf-4970-9b9f-50ab4c7899f5"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "autoCreate": null,
                "ref": "WinAddVodomer",
                "selector": "#winAddVodomer",
                "xtype": null
            },
            "name": "WinAddVodomer",
            "designerId": "51cbc8f7-c24a-4260-85e3-82645b9033c1"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "PnAppVodomer",
                "selector": "#pnAppVodomer"
            },
            "name": "PnAppVodomer",
            "designerId": "d67769d5-0c41-4e8b-9f22-c7307cc0bdf1"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "GrAllPokVodomera",
                "selector": "#grAllPokVodomera"
            },
            "name": "GrAllPokVodomera",
            "designerId": "a349c1fc-a87d-4968-bec8-d19d22038810"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#addAppVodomer",
                "designer|targetType": "Ext.button.Button",
                "fn": "onAddAppVodomerClick",
                "implHandler": [
                    "//in use",
                    "var me=this;",
                    "/*",
                    "        COMPONENT",
                    "        */",
                    "var winAddVodomer = Ext.ClassManager.instantiateByAlias('widget.winaddvodomer');",
                    "/*",
                    "        LOGIKA",
                    "        */",
                    "var dt = new Date();",
                    "",
                    "var form = winAddVodomer.down('#fmAddVodomer');",
                    "var check = form.down('#chkExistentVod');",
                    "//var fcn = form.down('#fcntNewVodomer');",
                    "",
                    "",
                    "var obrVodomer = form.down('#obrVodomer');",
                    "var jointVodomer = form.down('#jointVodomer');",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var values =stUser.getAt(0);",
                    "//LOGIKA'",
                    "values.set({'vibor':'addAppVodomer'});",
                    "stUser.sync();",
                    "//console.log(values);",
                    "form.down('#btAddVodomer').setText('Додати прилад обліку');",
                    "//form.getForm().findField('sdate').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                    "//form.getForm().findField('sdate').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                    "",
                    "form.getForm().findField('pp').setValue(4);",
                    "form.getForm().findField('fpdate').hide();",
                    "",
                    "form.getForm().findField('new_id').setValue(values.get('address_id'));",
                    "form.getForm().findField('vibor').setValue(\"addAppVodomer\");",
                    "",
                    "",
                    "form.getForm().findField('address_id').hide();",
                    "form.getForm().findField('filial_id').hide();",
                    "form.getForm().findField('new_id').hide();",
                    "//fcn.hide();",
                    "//jointVodomer.hide();",
                    "form.getForm().findField('vd').hide();",
                    "//obrVodomer.hide();",
                    "",
                    "winAddVodomer.setTitle('Введення нового приладу обліку');",
                    "winAddVodomer.show();",
                    "",
                    ""
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onAddAppVodomerClick",
            "designerId": "e1818cce-35de-47bb-b964-7c9439c5fed1"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btAddVodomer",
                "designer|targetType": "Ext.button.Button",
                "fn": "onBtAddAppVodomerClick",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//CONTROLLER",
                    "",
                    "var crOrgVodomer = this.application.getController('CrOrgVodomer');",
                    "var value = button.findParentByType('form').getValues();",
                    "//STORE",
                    "",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var values =stUser.getAt(0);",
                    "var vibor = values.get('vibor');",
                    "this.getWinAddVodomer().close();",
                    "switch (vibor){",
                    "    case 'addAppVodomer':  // ВЫБРАНА КВАРТИРА",
                    "        me.addVodomerApp(value);",
                    "        break;",
                    "    case 'editAppVodomer':  // ВЫБРАНА КВАРТИРА",
                    "        me.editVodomerApp(value);",
                    "        break;",
                    "    case 'changeAppVodomer':  // ВЫБРАНА КВАРТИРА",
                    "        me.changeVodomerApp(value);",
                    "        break;",
                    "    case 'addOrgVodomer':// ВЫБРАНА ОРГАНИЗАЦИЯ",
                    "        crOrgVodomer.addVodomerOrg(value);",
                    "        break;",
                    "    case 'editOrgVodomer':// ВЫБРАНА ОРГАНИЗАЦИЯ  - edit",
                    "        crOrgVodomer.editVodomerOrg(value);",
                    "        break;",
                    "    case 'changeOrgVodomer':// ВЫБРАНА ОРГАНИЗАЦИЯ  - edit",
                    "        crOrgVodomer.changeVodomerOrg(value);",
                    "        break;",
                    "}"
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onBtAddAppVodomerClick",
            "designerId": "4153e44b-8b09-4662-b1b7-a0c33a29b6a5"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "addVodomerApp",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var stVodomer = Ext.data.StoreManager.get(\"StVodomer\");",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    what:\"addAppVodomer\"",
                    "};",
                    "",
                    "//GRID",
                    "var grAppVodomer = Ext.getCmp('grAppVodomer');",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryVodomer.addVodomer(value,function(results){",
                    "    if (results.success){",
                    "        stVodomer.load({",
                    "            params: {",
                    "                what:'AppVodomer',",
                    "                address_id: value.address_id,",
                    "                vodomer_id: value.vodomer_id,",
                    "                login:value.login,",
                    "                password:value.password",
                    "            },",
                    "            callback: function(records,operation,success){",
                    "                if(success){",
                    "                    grAppVodomer.getView().getSelectionModel().select(0);",
                    "                    Ext.MessageBox.show({",
                    "                        title: 'Введення нового приладу обліку',",
                    "                        msg: results.msg,",
                    "                        buttons: Ext.MessageBox.OK,",
                    "                        icon: Ext.MessageBox.INFO",
                    "                    });",
                    "                }",
                    "            },",
                    "            scope:this",
                    "        });",
                    "",
                    "    }",
                    "});"
                ]
            },
            "name": "addVodomerApp",
            "designerId": "a5f9886a-ccd3-4a06-9c55-802d814c842a"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#newValue",
                "designer|targetType": "Ext.form.field.Number",
                "fn": "onNumberfieldSpecialkey",
                "implHandler": [
                    "var value = field.getValue();",
                    "if (e.getKey() === e.ENTER && !Ext.isEmpty(value)) {",
                    "    this.onInsTekPokVodClick();",
                    "}"
                ],
                "name": "specialkey",
                "scope": "me"
            },
            "name": "onNumberfieldSpecialkey",
            "designerId": "86771602-c061-4d51-938b-be8b35c60b98"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "editVodomerApp",
                "implHandler": [
                    "// in use",
                    "//var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var stVodomer = Ext.data.StoreManager.get(\"StVodomer\");",
                    "//LOGIN & PASSWORD",
                    "",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    rowind:values.get('rowind'),",
                    "    what:\"editAppVodomer\"",
                    "};",
                    "",
                    "//GRID",
                    "var grAppVodomer = Ext.getCmp('grAppVodomer');",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryVodomer.addVodomer(value,function(results){",
                    "",
                    "    if (results.success){",
                    "        stVodomer.load({",
                    "            params: {",
                    "                what:'AppVodomer',",
                    "                address_id: value.address_id,",
                    "                vodomer_id: value.vodomer_id,",
                    "                login:value.login,",
                    "                password:value.password",
                    "            },",
                    "            callback: function(records,operation,success){",
                    "                if(success){",
                    "                    grAppVodomer.getView().getSelectionModel().select(value.rowind);",
                    "                    Ext.MessageBox.show({",
                    "                        title: 'Оновлення приладу обліку',",
                    "                        msg: results.msg,",
                    "                        buttons: Ext.MessageBox.OK,",
                    "                        icon: Ext.MessageBox.INFO",
                    "                    });",
                    "                }",
                    "            },",
                    "            scope:this",
                    "        });",
                    "",
                    "    }",
                    "});"
                ]
            },
            "name": "editVodomerApp",
            "designerId": "7c76256c-6a43-4219-ab43-e2954d993934"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "changeVodomerApp",
                "implHandler": [
                    " var me = this;",
                    "        //STORE",
                    "        var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "        var stVodomer = Ext.data.StoreManager.get(\"StVodomer\");",
                    "        var stHVodomer = Ext.data.StoreManager.get(\"StHVodomer\");//QueryVodomer.getResults <AppHVodomer>",
                    "        var stVodomerKassa = Ext.data.StoreManager.get(\"StVodomerKassa\");//QueryVodomer.getResults  <AppVodomer>",
                    "        var stWater = Ext.data.StoreManager.get(\"StWater\");//QueryVodomer.getResults  <AllPokVodomera>",
                    "",
                    "        //LOGIN & PASSWORD",
                    "",
                    "        var values =stUser.getAt(0);",
                    "        var params = {",
                    "            login:values.get('login'),",
                    "            password:values.get('password'),",
                    "            address_id:values.get('address_id'),",
                    "            address:values.get('address'),",
                    "            house_id:values.get('house_id'),",
                    "            what:\"changeAppVodomer\"",
                    "        };",
                    "",
                    "        var fmPribor = Ext.getCmp('fmVodomer');",
                    "",
                    "",
                    "        Ext.Object.merge(value, params);",
                    "        QueryVodomer.addVodomer(value,function(results){",
                    "            if (results.success===\"1\"){",
                    "                Ext.MessageBox.show({",
                    "                    title: 'Заміна приладу обліку',",
                    "                    msg: results.msg,",
                    "                    buttons: Ext.MessageBox.OK,",
                    "                    icon: Ext.MessageBox.INFO",
                    "                });",
                    "                stVodomerKassa.load({",
                    "                    params: {",
                    "                        what:'AppVodomerKassa',",
                    "                        address_id: value.address_id,",
                    "                        what_id: value.address_id,",
                    "                        login:value.login,",
                    "                        password:value.password",
                    "                    },",
                    "                    scope:this",
                    "                });",
                    "                fmPribor.getForm().reset();",
                    "",
                    "                stVodomer.load({",
                    "                    params: {",
                    "                        what:'AppVodomer',",
                    "                        address_id: value.address_id,",
                    "                        vodomer_id: value.vodomer_id,",
                    "                        login:value.login,",
                    "                        password:value.password",
                    "                    },",
                    "                    scope:this",
                    "                });",
                    "                stWater.removeAll();",
                    "",
                    "                stHVodomer.load({",
                    "                    params: {",
                    "                        what:'AppHVodomer',",
                    "                        address_id: value.address_id,",
                    "                        what_id: value.address_id,",
                    "                        login:value.login,",
                    "                        password:value.password",
                    "                    },",
                    "                    scope:this",
                    "                });",
                    "            }else {",
                    "                Ext.MessageBox.show({",
                    "                    title: 'Заміна приладу обліку',",
                    "                    msg: results.msg,",
                    "                    buttons: Ext.MessageBox.OK,",
                    "                    icon: Ext.MessageBox.INFO",
                    "                });",
                    "            }",
                    "        });"
                ]
            },
            "name": "changeVodomerApp",
            "designerId": "a36fcc18-14e1-418c-9028-fee85fc02ed5"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#grAppVodomer",
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onGrAppVodomerSelectionChange",
                "implHandler": [
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var stWater = Ext.data.StoreManager.get(\"StWater\");",
                    "var stTekPokVodomera = Ext.data.StoreManager.get(\"StTekPokVodomera\");",
                    "var values =stUser.getAt(0);",
                    "var login = values.get('login');",
                    "var password = values.get('password');",
                    "var address_id = values.get('address_id');",
                    "var house_id = values.get('house_id');",
                    "var dt = new Date();",
                    "var fmVodomer = Ext.getCmp('fmVodomer');",
                    "var btnNorm = fmVodomer.down('#insTekPokVod');",
                    "var tekValue = fmVodomer.getForm().findField('tekp');",
                    "var newValue = fmVodomer.getForm().findField('newValue');",
                    "var InsPoverka = fmVodomer.down('#InsPoverka');",
                    "var AddMeedlePokVod = fmVodomer.down('#AddMeedlePokVod');",
                    "var insMeedlePokVod = fmVodomer.down('#insMeedlePokVod');",
                    "var date_ot = fmVodomer.getForm().findField('data_ot');",
                    "var date_do = fmVodomer.getForm().findField('data_do');",
                    "var date_ao = fmVodomer.getForm().findField('date_ao');",
                    "var date_ar = fmVodomer.getForm().findField('date_ar');",
                    "var pok_ot = fmVodomer.getForm().findField('pok_ot');",
                    "var pok_do = fmVodomer.getForm().findField('pok_do');",
                    "var rday = fmVodomer.getForm().findField('rday');",
                    "var days = fmVodomer.getForm().findField('days');",
                    "var kub_day = fmVodomer.getForm().findField('kub_day');",
                    "var qty_kub = fmVodomer.getForm().findField('qty_kub');",
                    "var newKubov = fmVodomer.getForm().findField('newKubov');",
                    "var date_new = fmVodomer.getForm().findField('date_new').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                    "if (selected.length){",
                    "    stWater.load({",
                    "        params: {",
                    "            login:login,",
                    "            password:password,",
                    "            address_id: address_id,",
                    "            what:'AllPokVodomera',",
                    "            what_id: selected[0].data.address_id,",
                    "            vodomer_id: selected[0].data.vodomer_id",
                    "        },",
                    "        scope:this",
                    "    });",
                    "    fmVodomer.setTitle('<font color=\"#800000\"> Технічна характеристика ' +",
                    "                       '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Водомір № '+",
                    "                       selected[0].data.nomer + '</font>');",
                    "",
                    "    fmVodomer.down('#delTekPokVod').setDisabled(true);",
                    "    fmVodomer.getForm().findField('vkl_del').setValue(0);",
                    "    stTekPokVodomera.load({",
                    "        params: {",
                    "            login:login,",
                    "            password:password,",
                    "            address_id: address_id,",
                    "            what:'TekPokVodomera',",
                    "            what_id: selected[0].data.address_id,",
                    "            vodomer_id: selected[0].data.vodomer_id",
                    "        },",
                    "        callback: function(records,operation,success){",
                    "            if(success){",
                    "                fmVodomer.getForm().loadRecord(records[0]);",
                    "",
                    "            }",
                    "        },",
                    "        scope:this",
                    "    });",
                    "    if (selected[0].data.out===1){",
                    "        AddMeedlePokVod.setDisabled(false);",
                    "        insMeedlePokVod.setDisabled(false);",
                    "        InsPoverka.setDisabled(false);",
                    "        date_ao.setDisabled(false);",
                    "        date_ar.setDisabled(false);",
                    "        date_ot.setDisabled(false);",
                    "        date_do.setDisabled(false);",
                    "        qty_kub.setDisabled(true);",
                    "        pok_do.setDisabled(true);",
                    "        pok_ot.setDisabled(true);",
                    "        rday.setDisabled(true);",
                    "        days.setDisabled(true);",
                    "        qty_kub.setDisabled(true);",
                    "        kub_day.setDisabled(true);",
                    "        newKubov.setDisabled(true);",
                    "        btnNorm.setDisabled(true);",
                    "        newValue.setDisabled(true);",
                    "",
                    "    } else {",
                    "        AddMeedlePokVod.setDisabled(true);",
                    "        insMeedlePokVod.setDisabled(true);",
                    "        InsPoverka.setDisabled(true);",
                    "        date_ao.setDisabled(true);",
                    "        date_ar.setDisabled(true);",
                    "        date_ot.setDisabled(true);",
                    "        date_do.setDisabled(true);",
                    "        pok_do.setDisabled(true);",
                    "        pok_ot.setDisabled(true);",
                    "        days.setDisabled(true);",
                    "        rday.setDisabled(true);",
                    "        qty_kub.setDisabled(true);",
                    "        kub_day.setDisabled(true);",
                    "        newKubov.setDisabled(true);",
                    "        btnNorm.setDisabled(false);",
                    "        newValue.setDisabled(false);",
                    "    }",
                    "}",
                    ""
                ],
                "name": "selectionchange",
                "scope": "me"
            },
            "name": "onGrAppVodomerSelectionChange",
            "designerId": "ea8a9dfa-cf2e-4fe0-9794-f41f168b95dd"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#grAppHVodomer",
                "designer|params": [
                    "model",
                    "selected",
                    "eOpts"
                ],
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onGrAppHVodomerSelectionChange",
                "implHandler": [
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var stWater = Ext.data.StoreManager.get(\"StWater\");",
                    "var stTekPokVodomera = Ext.data.StoreManager.get(\"StTekPokVodomera\");",
                    "var values =stUser.getAt(0);",
                    "var login = values.get('login');",
                    "var password = values.get('password');",
                    "var address_id = values.get('address_id');",
                    "var house_id = values.get('house_id');",
                    "var dt = new Date();",
                    "var fmVodomer = Ext.getCmp('fmVodomer');",
                    "var btnNorm = fmVodomer.down('#insTekPokVod');",
                    "var tekValue = fmVodomer.getForm().findField('tekp');",
                    "var newValue = fmVodomer.getForm().findField('newValue');",
                    "var InsPoverka = fmVodomer.down('#InsPoverka');",
                    "var AddMeedlePokVod = fmVodomer.down('#AddMeedlePokVod');",
                    "var insMeedlePokVod = fmVodomer.down('#insMeedlePokVod');",
                    "var date_ot = fmVodomer.getForm().findField('data_ot');",
                    "var date_do = fmVodomer.getForm().findField('data_do');",
                    "var date_ao = fmVodomer.getForm().findField('date_ao');",
                    "var date_ar = fmVodomer.getForm().findField('date_ar');",
                    "var pok_ot = fmVodomer.getForm().findField('pok_ot');",
                    "var pok_do = fmVodomer.getForm().findField('pok_do');",
                    "var rday = fmVodomer.getForm().findField('rday');",
                    "var days = fmVodomer.getForm().findField('days');",
                    "var kub_day = fmVodomer.getForm().findField('kub_day');",
                    "var qty_kub = fmVodomer.getForm().findField('qty_kub');",
                    "var newKubov = fmVodomer.getForm().findField('newKubov');",
                    "var grAppVodomer = Ext.getCmp('grAppVodomer');",
                    "grAppVodomer.getView().getSelectionModel().deselectAll();",
                    "",
                    "if (selected.length){",
                    "    stWater.load({",
                    "        params: {",
                    "            login:login,",
                    "            password:password,",
                    "            address_id: address_id,",
                    "            what:'AllPokVodomera',",
                    "            what_id: selected[0].data.address_id,",
                    "            vodomer_id: selected[0].data.vodomer_id",
                    "        },",
                    "        scope:this",
                    "    });",
                    "    fmVodomer.setTitle('<font color=\"#800000\"> Технічна характеристика ' +",
                    "                       '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Водомір № '+",
                    "                       selected[0].data.nomer + '</font>');",
                    "",
                    "    fmVodomer.down('#delTekPokVod').setDisabled(true);",
                    "    stTekPokVodomera.load({",
                    "        params: {",
                    "            login:login,",
                    "            password:password,",
                    "            address_id: address_id,",
                    "            what:'TekPokVodomera',",
                    "            what_id: selected[0].data.address_id,",
                    "            vodomer_id: selected[0].data.vodomer_id",
                    "        },",
                    "        callback: function(records,operation,success){",
                    "            if(success){",
                    "                fmVodomer.getForm().reset();",
                    "",
                    "            }",
                    "        },",
                    "        scope:this",
                    "    });",
                    "",
                    "        AddMeedlePokVod.setDisabled(true);",
                    "        insMeedlePokVod.setDisabled(true);",
                    "        InsPoverka.setDisabled(true);",
                    "        date_ao.setDisabled(true);",
                    "        date_ar.setDisabled(true);",
                    "        date_ot.setDisabled(true);",
                    "        date_do.setDisabled(true);",
                    "        pok_do.setDisabled(true);",
                    "        pok_ot.setDisabled(true);",
                    "        days.setDisabled(true);",
                    "        rday.setDisabled(true);",
                    "        qty_kub.setDisabled(true);",
                    "        kub_day.setDisabled(true);",
                    "        newKubov.setDisabled(true);",
                    "        btnNorm.setDisabled(true);",
                    "        newValue.setDisabled(true);",
                    "",
                    "}",
                    ""
                ],
                "name": "selectionchange"
            },
            "name": "onGrAppHVodomerSelectionChange",
            "designerId": "828c46c5-24e4-4283-adc3-caca9f49ad6a"
        }
    ]
}